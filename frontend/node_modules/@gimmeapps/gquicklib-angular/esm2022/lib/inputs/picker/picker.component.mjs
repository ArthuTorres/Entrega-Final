import { Component, EventEmitter, Input, Output } from '@angular/core';
import { BaseComponent } from '../../ui/helpers/base/base.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../shared/directives/click-outside.directive";
import * as i3 from "../../ui/icon/icon.component";
import * as i4 from "../../ui/layout/row/row.component";
export class PickerComponent extends BaseComponent {
    constructor() {
        super(...arguments);
        this.placeholder = "Selecione";
        this.options = [];
        this.controlValue = null;
        this.clearable = false;
        this.onSelect = new EventEmitter();
        this.menuIsVisible = false;
    }
    open() {
        this.menuIsVisible = true;
    }
    close() {
        this.menuIsVisible = false;
    }
    toggle() {
        this.menuIsVisible = !this.menuIsVisible;
    }
    onOptionSelected(event, value) {
        event.stopImmediatePropagation();
        this.changeValue(value);
    }
    changeValue(value) {
        this.controlValue = value;
        this.onSelect.emit(this.controlValue ? this.controlValue.value : null);
        this.menuIsVisible = false;
    }
    clear() {
        this.changeValue(null);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.0", ngImport: i0, type: PickerComponent, deps: null, target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.0", type: PickerComponent, selector: "quick-picker", inputs: { placeholder: "placeholder", options: "options", controlValue: "controlValue", clearable: "clearable" }, outputs: { onSelect: "onSelect" }, usesInheritance: true, ngImport: i0, template: "<quick-row class=\"control\"\n    [class]=\"[componentStyle, componentSize, color, (round? 'round':''), (disabled? 'disabled':''), (menuIsVisible? 'visible-menu':'')]\"\n    (click)=\"toggle()\" clickOutside (clickOutside)=\"close()\">\n    <span style=\"flex: 1\">{{controlValue?.displayText ?? placeholder}}</span>\n    <quick-icon *ngIf=\"clearable && controlValue\" iconName=\"close\" (click)=\"clear()\" />\n    <quick-icon iconName=\"down\" />\n</quick-row>\n\n<ul *ngIf=\"menuIsVisible\">\n    <li *ngFor=\"let option of options\" (click)=\"onOptionSelected($event, option)\" [title]=\"option.displayText\">\n        {{option.displayText}}</li>\n</ul>", styles: [":host{--button-border-width: 2px}.control{width:100%;box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:unset;border:none;border-radius:.5rem;font-weight:500;transition:all ease .2s}.control.small{height:24px;padding:0 12px}.control.small.bordered{padding:0 10px}.control.small.round{border-radius:12px}.control.medium{height:36px;padding:0 18px}.control.medium.bordered{padding:0 16px}.control.medium.round{border-radius:18px}.control.large{height:48px;padding:0 24px}.control.large.round{border-radius:24px}.control.grayed{background-color:var(--gray-300);color:var(--gray-700)}.control.flat.primary{background-color:var(--primary-color);color:var(--text-primary-contrast)}.control.bordered.primary{border:solid var(--button-border-width);border-color:var(--primary-color);color:var(--primary-color)}.control.grayed.primary:not(:disabled):hover{background-color:var(--primary-color);color:var(--text-primary-contrast)}.control.flat.accent{background-color:var(--accent-color);color:var(--text-accent-contrast)}.control.bordered.accent{border:solid var(--button-border-width);border-color:var(--accent-color);color:var(--accent-color)}.control.grayed.accent:not(:disabled):hover{background-color:var(--accent-color);color:var(--text-accent-contrast)}.control.flat.info{background-color:var(--info-color);color:var(--text-info-contrast)}.control.bordered.info{border:solid var(--button-border-width);border-color:var(--info-color);color:var(--info-color)}.control.grayed.info:not(:disabled):hover{background-color:var(--info-color);color:var(--text-info-contrast)}.control.flat.success{background-color:var(--success-color);color:var(--text-success-contrast)}.control.bordered.success{border:solid var(--button-border-width);border-color:var(--success-color);color:var(--success-color)}.control.grayed.success:not(:disabled):hover{background-color:var(--success-color);color:var(--text-success-contrast)}.control.flat.warn{background-color:var(--warn-color);color:var(--text-warn-contrast)}.control.bordered.warn{border:solid var(--button-border-width);border-color:var(--warn-color);color:var(--warn-color)}.control.grayed.warn:not(:disabled):hover{background-color:var(--warn-color);color:var(--text-warn-contrast)}.control.flat.danger{background-color:var(--danger-color);color:var(--text-danger-contrast)}.control.bordered.danger{border:solid var(--button-border-width);border-color:var(--danger-color);color:var(--danger-color)}.control.grayed.danger:not(:disabled):hover{background-color:var(--danger-color);color:var(--text-danger-contrast)}.control.flat:not(:disabled):hover{filter:brightness(1.2)}.control.bordered:not(:disabled):hover{filter:brightness(1.2)}.control:disabled,.control.disabled{opacity:.8;filter:unset}\n", ":host{position:relative}.control{cursor:pointer;flex-wrap:nowrap}.control.visible-menu{border-bottom-left-radius:0;border-bottom-right-radius:0}.control span{text-wrap:nowrap;overflow:hidden}ul{box-sizing:border-box;display:flex;flex-direction:column;width:100%;max-width:100%;overflow-x:hidden;max-height:280px;overflow-y:auto;position:absolute;background-color:#fff;z-index:200;border-radius:.25rem;border-top-left-radius:0;border-top-right-radius:0;box-shadow:0 3px 4px #00000008}ul li{cursor:pointer;transition:all .2s ease-in;padding:.75rem;text-wrap:nowrap;max-width:100%}ul li:hover{background-color:var(--primary-color);color:var(--text-primary-contrast)}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.ClickOutsideDirective, selector: "[clickOutside]", outputs: ["clickOutside"] }, { kind: "component", type: i3.IconComponent, selector: "quick-icon", inputs: ["iconName"] }, { kind: "component", type: i4.RowComponent, selector: "quick-row" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.0", ngImport: i0, type: PickerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'quick-picker', template: "<quick-row class=\"control\"\n    [class]=\"[componentStyle, componentSize, color, (round? 'round':''), (disabled? 'disabled':''), (menuIsVisible? 'visible-menu':'')]\"\n    (click)=\"toggle()\" clickOutside (clickOutside)=\"close()\">\n    <span style=\"flex: 1\">{{controlValue?.displayText ?? placeholder}}</span>\n    <quick-icon *ngIf=\"clearable && controlValue\" iconName=\"close\" (click)=\"clear()\" />\n    <quick-icon iconName=\"down\" />\n</quick-row>\n\n<ul *ngIf=\"menuIsVisible\">\n    <li *ngFor=\"let option of options\" (click)=\"onOptionSelected($event, option)\" [title]=\"option.displayText\">\n        {{option.displayText}}</li>\n</ul>", styles: [":host{--button-border-width: 2px}.control{width:100%;box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:unset;border:none;border-radius:.5rem;font-weight:500;transition:all ease .2s}.control.small{height:24px;padding:0 12px}.control.small.bordered{padding:0 10px}.control.small.round{border-radius:12px}.control.medium{height:36px;padding:0 18px}.control.medium.bordered{padding:0 16px}.control.medium.round{border-radius:18px}.control.large{height:48px;padding:0 24px}.control.large.round{border-radius:24px}.control.grayed{background-color:var(--gray-300);color:var(--gray-700)}.control.flat.primary{background-color:var(--primary-color);color:var(--text-primary-contrast)}.control.bordered.primary{border:solid var(--button-border-width);border-color:var(--primary-color);color:var(--primary-color)}.control.grayed.primary:not(:disabled):hover{background-color:var(--primary-color);color:var(--text-primary-contrast)}.control.flat.accent{background-color:var(--accent-color);color:var(--text-accent-contrast)}.control.bordered.accent{border:solid var(--button-border-width);border-color:var(--accent-color);color:var(--accent-color)}.control.grayed.accent:not(:disabled):hover{background-color:var(--accent-color);color:var(--text-accent-contrast)}.control.flat.info{background-color:var(--info-color);color:var(--text-info-contrast)}.control.bordered.info{border:solid var(--button-border-width);border-color:var(--info-color);color:var(--info-color)}.control.grayed.info:not(:disabled):hover{background-color:var(--info-color);color:var(--text-info-contrast)}.control.flat.success{background-color:var(--success-color);color:var(--text-success-contrast)}.control.bordered.success{border:solid var(--button-border-width);border-color:var(--success-color);color:var(--success-color)}.control.grayed.success:not(:disabled):hover{background-color:var(--success-color);color:var(--text-success-contrast)}.control.flat.warn{background-color:var(--warn-color);color:var(--text-warn-contrast)}.control.bordered.warn{border:solid var(--button-border-width);border-color:var(--warn-color);color:var(--warn-color)}.control.grayed.warn:not(:disabled):hover{background-color:var(--warn-color);color:var(--text-warn-contrast)}.control.flat.danger{background-color:var(--danger-color);color:var(--text-danger-contrast)}.control.bordered.danger{border:solid var(--button-border-width);border-color:var(--danger-color);color:var(--danger-color)}.control.grayed.danger:not(:disabled):hover{background-color:var(--danger-color);color:var(--text-danger-contrast)}.control.flat:not(:disabled):hover{filter:brightness(1.2)}.control.bordered:not(:disabled):hover{filter:brightness(1.2)}.control:disabled,.control.disabled{opacity:.8;filter:unset}\n", ":host{position:relative}.control{cursor:pointer;flex-wrap:nowrap}.control.visible-menu{border-bottom-left-radius:0;border-bottom-right-radius:0}.control span{text-wrap:nowrap;overflow:hidden}ul{box-sizing:border-box;display:flex;flex-direction:column;width:100%;max-width:100%;overflow-x:hidden;max-height:280px;overflow-y:auto;position:absolute;background-color:#fff;z-index:200;border-radius:.25rem;border-top-left-radius:0;border-top-right-radius:0;box-shadow:0 3px 4px #00000008}ul li{cursor:pointer;transition:all .2s ease-in;padding:.75rem;text-wrap:nowrap;max-width:100%}ul li:hover{background-color:var(--primary-color);color:var(--text-primary-contrast)}\n"] }]
        }], propDecorators: { placeholder: [{
                type: Input
            }], options: [{
                type: Input
            }], controlValue: [{
                type: Input
            }], clearable: [{
                type: Input
            }], onSelect: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlja2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2dxdWlja2xpYi1hbmd1bGFyL3NyYy9saWIvaW5wdXRzL3BpY2tlci9waWNrZXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZ3F1aWNrbGliLWFuZ3VsYXIvc3JjL2xpYi9pbnB1dHMvcGlja2VyL3BpY2tlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQzs7Ozs7O0FBaUJyRSxNQUFNLE9BQU8sZUFBZ0IsU0FBUSxhQUFhO0lBUmxEOztRQVNXLGdCQUFXLEdBQVcsV0FBVyxDQUFBO1FBQ2pDLFlBQU8sR0FBa0IsRUFBRSxDQUFBO1FBQzNCLGlCQUFZLEdBQXdCLElBQUksQ0FBQztRQUN6QyxjQUFTLEdBQVksS0FBSyxDQUFBO1FBRXpCLGFBQVEsR0FBRyxJQUFJLFlBQVksRUFBYyxDQUFBO1FBRW5ELGtCQUFhLEdBQUcsS0FBSyxDQUFBO0tBNEJ0QjtJQTFCQyxJQUFJO1FBQ0YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUE7SUFDM0IsQ0FBQztJQUVELEtBQUs7UUFDSCxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQTtJQUM1QixDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFBO0lBQzFDLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxLQUFpQixFQUFFLEtBQTBCO1FBQzVELEtBQUssQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUVPLFdBQVcsQ0FBQyxLQUEwQjtRQUM1QyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELEtBQUs7UUFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQ3hCLENBQUM7OEdBbkNVLGVBQWU7a0dBQWYsZUFBZSxnT0NsQjVCLG9wQkFXSzs7MkZET1EsZUFBZTtrQkFSM0IsU0FBUzsrQkFDRSxjQUFjOzhCQVFmLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLO2dCQUNHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFFSSxRQUFRO3NCQUFqQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi8uLi91aS9oZWxwZXJzL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuXG5leHBvcnQgdHlwZSBQaWNrZXJPcHRpb24gPSB7XG4gIHZhbHVlOiBhbnksXG4gIGRpc3BsYXlUZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgUGlja2VyT3B0aW9ucyA9IFBpY2tlck9wdGlvbltdXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3F1aWNrLXBpY2tlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9waWNrZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFtcbiAgICAnLi4vLi4vdWkvaGVscGVycy9iYXNlL2Jhc2UuY29tcG9uZW50LnNjc3MnLFxuICAgICcuL3BpY2tlci5jb21wb25lbnQuc2NzcydcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBQaWNrZXJDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgQElucHV0KCkgcGxhY2Vob2xkZXI6IHN0cmluZyA9IFwiU2VsZWNpb25lXCJcbiAgQElucHV0KCkgb3B0aW9uczogUGlja2VyT3B0aW9ucyA9IFtdXG4gIEBJbnB1dCgpIGNvbnRyb2xWYWx1ZTogUGlja2VyT3B0aW9uIHwgbnVsbCA9IG51bGw7XG4gIEBJbnB1dCgpIGNsZWFyYWJsZTogYm9vbGVhbiA9IGZhbHNlXG5cbiAgQE91dHB1dCgpIG9uU2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnkgfCBudWxsPigpXG5cbiAgbWVudUlzVmlzaWJsZSA9IGZhbHNlXG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLm1lbnVJc1Zpc2libGUgPSB0cnVlXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLm1lbnVJc1Zpc2libGUgPSBmYWxzZVxuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMubWVudUlzVmlzaWJsZSA9ICF0aGlzLm1lbnVJc1Zpc2libGVcbiAgfVxuXG4gIG9uT3B0aW9uU2VsZWN0ZWQoZXZlbnQ6IE1vdXNlRXZlbnQsIHZhbHVlOiBQaWNrZXJPcHRpb24gfCBudWxsKSB7XG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGNoYW5nZVZhbHVlKHZhbHVlOiBQaWNrZXJPcHRpb24gfCBudWxsKSB7XG4gICAgdGhpcy5jb250cm9sVmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLm9uU2VsZWN0LmVtaXQodGhpcy5jb250cm9sVmFsdWUgPyB0aGlzLmNvbnRyb2xWYWx1ZS52YWx1ZSA6IG51bGwpO1xuICAgIHRoaXMubWVudUlzVmlzaWJsZSA9IGZhbHNlO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShudWxsKVxuICB9XG59XG4iLCI8cXVpY2stcm93IGNsYXNzPVwiY29udHJvbFwiXG4gICAgW2NsYXNzXT1cIltjb21wb25lbnRTdHlsZSwgY29tcG9uZW50U2l6ZSwgY29sb3IsIChyb3VuZD8gJ3JvdW5kJzonJyksIChkaXNhYmxlZD8gJ2Rpc2FibGVkJzonJyksIChtZW51SXNWaXNpYmxlPyAndmlzaWJsZS1tZW51JzonJyldXCJcbiAgICAoY2xpY2spPVwidG9nZ2xlKClcIiBjbGlja091dHNpZGUgKGNsaWNrT3V0c2lkZSk9XCJjbG9zZSgpXCI+XG4gICAgPHNwYW4gc3R5bGU9XCJmbGV4OiAxXCI+e3tjb250cm9sVmFsdWU/LmRpc3BsYXlUZXh0ID8/IHBsYWNlaG9sZGVyfX08L3NwYW4+XG4gICAgPHF1aWNrLWljb24gKm5nSWY9XCJjbGVhcmFibGUgJiYgY29udHJvbFZhbHVlXCIgaWNvbk5hbWU9XCJjbG9zZVwiIChjbGljayk9XCJjbGVhcigpXCIgLz5cbiAgICA8cXVpY2staWNvbiBpY29uTmFtZT1cImRvd25cIiAvPlxuPC9xdWljay1yb3c+XG5cbjx1bCAqbmdJZj1cIm1lbnVJc1Zpc2libGVcIj5cbiAgICA8bGkgKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBvcHRpb25zXCIgKGNsaWNrKT1cIm9uT3B0aW9uU2VsZWN0ZWQoJGV2ZW50LCBvcHRpb24pXCIgW3RpdGxlXT1cIm9wdGlvbi5kaXNwbGF5VGV4dFwiPlxuICAgICAgICB7e29wdGlvbi5kaXNwbGF5VGV4dH19PC9saT5cbjwvdWw+Il19