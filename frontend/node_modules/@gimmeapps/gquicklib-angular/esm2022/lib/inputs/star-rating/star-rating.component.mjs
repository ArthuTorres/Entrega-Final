import { Component, Input } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/flex-layout/extended";
import * as i3 from "../../ui/icon/icon.component";
export class StarRatingComponent {
    constructor() {
        this.disabled = false;
        this.mouseOver = null;
        this.rating = 0;
        this.maxRate = 5;
        this.color = "primary";
        this.onChange = (rating) => { };
        this.onTouched = () => { };
    }
    writeValue(obj) {
        this.rating = obj;
    }
    registerOnChange(onChange) {
        this.onChange = onChange;
    }
    registerOnTouched(onTouched) {
        this.onTouched = onTouched;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    onMouseEnter(rate) {
        if (this.disabled)
            return;
        this.mouseOver = rate;
    }
    onMouseLeave() {
        if (this.disabled)
            return;
        this.mouseOver = null;
    }
    setValue(value) {
        if (this.disabled)
            return;
        this.writeValue(value);
        this.onChange(value);
    }
    get stars() {
        const stars = new Array(this.maxRate).fill(0).map((value, index) => {
            return index + 1;
        });
        return stars;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.0", ngImport: i0, type: StarRatingComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.0", type: StarRatingComponent, selector: "quick-star-rating", inputs: { maxRate: "maxRate", color: "color" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: StarRatingComponent
            }
        ], ngImport: i0, template: "<ul class=\"{{color}}\" [ngClass]=\"{'disabled':disabled}\">\n    @for (rate of stars; track $index) {\n    <li (click)=\"setValue(rate)\" (mouseenter)=\"onMouseEnter(rate)\" (mouseleave)=\"onMouseLeave()\"\n        [ngClass]=\"{'active': (mouseOver && mouseOver >= rate) || (!mouseOver && rating >= rate)}\">\n        <quick-icon iconName=\"star\" />\n    </li>\n    }\n</ul>", styles: ["ul{display:flex;flex-direction:row;align-items:center;height:42px;box-sizing:border-box;padding:0 .5rem;font-size:1.25rem}ul.primary{color:var(--primary-color)}ul.accent{color:var(--accent-color)}ul.info{color:var(--info-color)}ul.success{color:var(--success-color)}ul.warn{color:var(--warn-color)}ul.danger{color:var(--danger-color)}ul li{cursor:pointer;opacity:.2}ul li.active{opacity:1}ul.disabled{opacity:.8}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }, { kind: "component", type: i3.IconComponent, selector: "quick-icon", inputs: ["iconName"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.0", ngImport: i0, type: StarRatingComponent, decorators: [{
            type: Component,
            args: [{ selector: 'quick-star-rating', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            multi: true,
                            useExisting: StarRatingComponent
                        }
                    ], template: "<ul class=\"{{color}}\" [ngClass]=\"{'disabled':disabled}\">\n    @for (rate of stars; track $index) {\n    <li (click)=\"setValue(rate)\" (mouseenter)=\"onMouseEnter(rate)\" (mouseleave)=\"onMouseLeave()\"\n        [ngClass]=\"{'active': (mouseOver && mouseOver >= rate) || (!mouseOver && rating >= rate)}\">\n        <quick-icon iconName=\"star\" />\n    </li>\n    }\n</ul>", styles: ["ul{display:flex;flex-direction:row;align-items:center;height:42px;box-sizing:border-box;padding:0 .5rem;font-size:1.25rem}ul.primary{color:var(--primary-color)}ul.accent{color:var(--accent-color)}ul.info{color:var(--info-color)}ul.success{color:var(--success-color)}ul.warn{color:var(--warn-color)}ul.danger{color:var(--danger-color)}ul li{cursor:pointer;opacity:.2}ul li.active{opacity:1}ul.disabled{opacity:.8}\n"] }]
        }], propDecorators: { maxRate: [{
                type: Input
            }], color: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Rhci1yYXRpbmcuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZ3F1aWNrbGliLWFuZ3VsYXIvc3JjL2xpYi9pbnB1dHMvc3Rhci1yYXRpbmcvc3Rhci1yYXRpbmcuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZ3F1aWNrbGliLWFuZ3VsYXIvc3JjL2xpYi9pbnB1dHMvc3Rhci1yYXRpbmcvc3Rhci1yYXRpbmcuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDakQsT0FBTyxFQUF3QixpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7OztBQWV6RSxNQUFNLE9BQU8sbUJBQW1CO0lBWmhDO1FBYUUsYUFBUSxHQUFHLEtBQUssQ0FBQTtRQUVoQixjQUFTLEdBQWtCLElBQUksQ0FBQTtRQUMvQixXQUFNLEdBQUcsQ0FBQyxDQUFBO1FBRUQsWUFBTyxHQUFHLENBQUMsQ0FBQTtRQUNYLFVBQUssR0FBWSxTQUFTLENBQUE7UUFFbkMsYUFBUSxHQUFHLENBQUMsTUFBYyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFbkMsY0FBUyxHQUFHLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztLQWdEdkI7SUE5Q0MsVUFBVSxDQUFDLEdBQVE7UUFDakIsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUE7SUFDbkIsQ0FBQztJQUVELGdCQUFnQixDQUFDLFFBQWE7UUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVELGlCQUFpQixDQUFDLFNBQWM7UUFDOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7SUFDN0IsQ0FBQztJQUVELGdCQUFnQixDQUFFLFVBQW1CO1FBQ25DLElBQUksQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFBO0lBQzVCLENBQUM7SUFHRCxZQUFZLENBQUMsSUFBWTtRQUN2QixJQUFJLElBQUksQ0FBQyxRQUFRO1lBQ2YsT0FBTTtRQUVSLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFBO0lBQ3ZCLENBQUM7SUFFRCxZQUFZO1FBQ1YsSUFBSSxJQUFJLENBQUMsUUFBUTtZQUNmLE9BQU07UUFFUixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQTtJQUN2QixDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQWE7UUFDcEIsSUFBSSxJQUFJLENBQUMsUUFBUTtZQUNmLE9BQU07UUFFUixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQUksS0FBSztRQUNQLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ2pFLE9BQU8sS0FBSyxHQUFHLENBQUMsQ0FBQTtRQUNsQixDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sS0FBSyxDQUFBO0lBQ2QsQ0FBQzs4R0ExRFUsbUJBQW1CO2tHQUFuQixtQkFBbUIsNEZBUm5CO1lBQ1Q7Z0JBQ0UsT0FBTyxFQUFFLGlCQUFpQjtnQkFDMUIsS0FBSyxFQUFFLElBQUk7Z0JBQ1gsV0FBVyxFQUFFLG1CQUFtQjthQUNqQztTQUNGLDBCQ2RILDBYQU9LOzsyRkRTUSxtQkFBbUI7a0JBWi9CLFNBQVM7K0JBQ0UsbUJBQW1CLGFBR2xCO3dCQUNUOzRCQUNFLE9BQU8sRUFBRSxpQkFBaUI7NEJBQzFCLEtBQUssRUFBRSxJQUFJOzRCQUNYLFdBQVcscUJBQXFCO3lCQUNqQztxQkFDRjs4QkFRUSxPQUFPO3NCQUFmLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3R5cGVzL2NvbG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3F1aWNrLXN0YXItcmF0aW5nJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3N0YXItcmF0aW5nLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmw6ICcuL3N0YXItcmF0aW5nLmNvbXBvbmVudC5zY3NzJyxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgIHVzZUV4aXN0aW5nOiBTdGFyUmF0aW5nQ29tcG9uZW50XG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFN0YXJSYXRpbmdDb21wb25lbnQgaW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvciB7XG4gIGRpc2FibGVkID0gZmFsc2VcblxuICBtb3VzZU92ZXI6IG51bWJlciB8IG51bGwgPSBudWxsXG4gIHJhdGluZyA9IDBcblxuICBASW5wdXQoKSBtYXhSYXRlID0gNVxuICBASW5wdXQoKSBjb2xvcj86IENvbG9ycyA9IFwicHJpbWFyeVwiXG5cbiAgb25DaGFuZ2UgPSAocmF0aW5nOiBudW1iZXIpID0+IHsgfTtcblxuICBvblRvdWNoZWQgPSAoKSA9PiB7IH07XG5cbiAgd3JpdGVWYWx1ZShvYmo6IGFueSk6IHZvaWQge1xuICAgIHRoaXMucmF0aW5nID0gb2JqXG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKG9uQ2hhbmdlOiBhbnkpIHtcbiAgICB0aGlzLm9uQ2hhbmdlID0gb25DaGFuZ2U7XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChvblRvdWNoZWQ6IGFueSkge1xuICAgIHRoaXMub25Ub3VjaGVkID0gb25Ub3VjaGVkO1xuICB9XG5cbiAgc2V0RGlzYWJsZWRTdGF0ZT8oaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuZGlzYWJsZWQgPSBpc0Rpc2FibGVkXG4gIH1cblxuXG4gIG9uTW91c2VFbnRlcihyYXRlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZClcbiAgICAgIHJldHVyblxuXG4gICAgdGhpcy5tb3VzZU92ZXIgPSByYXRlXG4gIH1cblxuICBvbk1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpXG4gICAgICByZXR1cm5cblxuICAgIHRoaXMubW91c2VPdmVyID0gbnVsbFxuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKVxuICAgICAgcmV0dXJuXG5cbiAgICB0aGlzLndyaXRlVmFsdWUodmFsdWUpXG4gICAgdGhpcy5vbkNoYW5nZSh2YWx1ZSlcbiAgfVxuXG4gIGdldCBzdGFycygpIHtcbiAgICBjb25zdCBzdGFycyA9IG5ldyBBcnJheSh0aGlzLm1heFJhdGUpLmZpbGwoMCkubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBpbmRleCArIDFcbiAgICB9KTtcblxuICAgIHJldHVybiBzdGFyc1xuICB9XG59XG4iLCI8dWwgY2xhc3M9XCJ7e2NvbG9yfX1cIiBbbmdDbGFzc109XCJ7J2Rpc2FibGVkJzpkaXNhYmxlZH1cIj5cbiAgICBAZm9yIChyYXRlIG9mIHN0YXJzOyB0cmFjayAkaW5kZXgpIHtcbiAgICA8bGkgKGNsaWNrKT1cInNldFZhbHVlKHJhdGUpXCIgKG1vdXNlZW50ZXIpPVwib25Nb3VzZUVudGVyKHJhdGUpXCIgKG1vdXNlbGVhdmUpPVwib25Nb3VzZUxlYXZlKClcIlxuICAgICAgICBbbmdDbGFzc109XCJ7J2FjdGl2ZSc6IChtb3VzZU92ZXIgJiYgbW91c2VPdmVyID49IHJhdGUpIHx8ICghbW91c2VPdmVyICYmIHJhdGluZyA+PSByYXRlKX1cIj5cbiAgICAgICAgPHF1aWNrLWljb24gaWNvbk5hbWU9XCJzdGFyXCIgLz5cbiAgICA8L2xpPlxuICAgIH1cbjwvdWw+Il19